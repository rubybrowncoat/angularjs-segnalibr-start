<h1>{{ bookmarksListController.getCurrentCategoryName() }}</h1>

<div class="segnalibr" ng-repeat="bookmark in bookmarksListController.bookmarks | filter: bookmarksListController.getCurrentCategorySlug() ? { category: bookmarksListController.getCurrentCategorySlug() } : ''"
  ng-class="{ active: bookmarksListController.isCurrentBookmark(bookmark) }">
  <button type="button" class="close text-perfect segnalibr-close" ng-click="bookmarksListController.onDelete(bookmark)">&times;</button>
  <button type="button" class="btn btn-outline-secondary" ng-click="bookmarksListController.editBookmark(bookmark)" ng-disabled="bookmarksListController.isCurrentBookmark(bookmark)">e</button>
  <a href="{{ bookmark.url }}" target="_blank" class="segnalibr-link">{{ bookmark.title }}</a>
</div>

<hr>

<div ng-if="bookmarksListController.getCurrentCategorySlug()">
  <button class="btn btn-lg btn-primary"
  ng-if="!bookmarksListController.getCurrentBookmark()" ng-click="bookmarksListController.createBookmark()">Crea un Segnalibr!</button>
</div>

<bookmark-save
  ng-if="bookmarksListController.getCurrentBookmark()"

  bookmark="bookmarksListController.getCurrentBookmark()"

  save="bookmarksListController.onSave(bookmark)"
  cancel="bookmarksListController.resetBookmark()"
></bookmark-save>
